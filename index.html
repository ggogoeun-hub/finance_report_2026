<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ê³ ì€ì´ì˜ 2026 ì—°ê¸ˆ í¬íŠ¸í´ë¦¬ì˜¤ ì„±ê³¼ ì¶”ì  ëŒ€ì‹œë³´ë“œ</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        body { font-family: 'Noto Sans KR', sans-serif; background-color: #f4f6f9; padding: 15px; margin: 0; }
        .container { max-width: 1200px; margin: 0 auto; }
        .header { text-align: center; margin-bottom: 20px; }
        .header h1 { margin: 10px 0; font-size: 1.6rem; color: #2c3e50; }
        .header p { margin: 5px 0; color: #666; font-size: 0.9rem; }
        .stat-box { display: flex; flex-wrap: wrap; justify-content: space-between; margin-bottom: 15px; gap: 10px; }
        .stat { background: #fff; padding: 12px; border-radius: 10px; text-align: center; box-shadow: 0 2px 4px rgba(0,0,0,0.05); flex: 1; min-width: 140px; }
        .stat h3 { margin: 0; color: #777; font-size: 0.85rem; }
        .stat p { margin: 5px 0 0; font-size: 1.25rem; font-weight: bold; color: #2c3e50; }
        .highlight { color: #e74c3c !important; }
        .grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-bottom: 15px; }
        .card { background: white; padding: 15px; border-radius: 12px; box-shadow: 0 4px 6px rgba(0,0,0,0.08); }
        h2 { font-size: 1.1rem; color: #333; border-bottom: 2px solid #f1f1f1; padding-bottom: 8px; margin-top: 0; margin-bottom: 10px; }
        .table-container { overflow-x: auto; }
        table { width: 100%; border-collapse: collapse; font-size: 0.85rem; text-align: right; }
        th { background: #f8f9fa; border-bottom: 2px solid #dee2e6; padding: 10px; }
        td { padding: 10px; border-bottom: 1px solid #eee; }
        @media (max-width: 768px) { .grid { grid-template-columns: 1fr; } .stat { min-width: 45%; } }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸš€ ê³ ì€ì´ì˜ 2026 ì—°ê¸ˆ í¬íŠ¸í´ë¦¬ì˜¤</h1>
            <p>ê¸°ì¤€ì¼: 2026.02.09 | ì´ˆê¸° íˆ¬ìê¸ˆ: 1,693ë§Œì›</p>
        </div>

        <div class="stat-box">
            <div id="stat-current-total" class="stat"><h3>í˜„ì¬ ì´í‰ê°€ì•¡</h3><p>-</p></div>
            <div class="stat"><h3>ì˜ˆìƒ ì—°ë§ì•¡</h3><p>2,735ë§Œì›</p></div>
            <div class="stat"><h3>ì›” ì˜ˆìƒ ë°°ë‹¹</h3><p>18.4ë§Œì›</p></div>
            <div id="stat-total-profit" class="stat"><h3>ì „ì²´ ìˆ˜ìµë¥ </h3><p class="highlight">-</p></div>
        </div>

        <div class="grid">
            <div class="card">
                <h2>ğŸ“Š ìì‚° ì„±ì¥ ê°€ì´ë“œë¼ì¸ (1ë…„)</h2>
                <canvas id="assetChart"></canvas>
            </div>
            <div class="card">
                <h2>ğŸ“ˆ Weekly Tracker (ì´ìì‚° ìˆ˜ìµ ì¶”ì )</h2>
                <canvas id="weeklyTotalTrackerChart"></canvas>
            </div>
            <div class="card">
                <h2>ğŸ° ì„¹í„°ë³„ ë¦¬ìŠ¤í¬ ë¹„ì¤‘</h2>
                <canvas id="sectorChart"></canvas>
            </div>
            <div class="card">
                <h2>ğŸ† ì¢…ëª©ë³„ ìˆ˜ìµë¥  ë­í‚¹</h2>
                <canvas id="performanceChart"></canvas>
            </div>
        </div>

        <div class="grid">
            <div class="card">
                <h2>ğŸ“ˆ ì„¹í„°ë³„ ìˆ˜ìµ ê¸°ì—¬ë„ (ëª©í‘œ ëŒ€ë¹„ ì‹¤ì )</h2>
                <canvas id="contributionChart"></canvas>
            </div>
            <div class="card">
                <h2>ğŸ“… ì›”ë³„ ë°°ë‹¹ê¸ˆ ì¶”ì  (í˜„ê¸ˆ íë¦„)</h2>
                <canvas id="dividendTrackerChart"></canvas>
            </div>
        </div>

        <div class="card">
            <h2>ğŸ“‹ ì¢…ëª©ë³„ ìƒì„¸ í˜„í™© (ìˆ˜ìµë¥  ìˆœ)</h2>
            <div class="table-container">
                <table>
                    <thead>
                        <tr>
                            <th style="text-align:center;">ìˆœìœ„</th>
                            <th style="text-align:left;">ì¢…ëª©ëª…</th>
                            <th>ìˆ˜ìµë¥ </th>
                            <th>í‰ë‹¨ê°€</th>
                            <th>í˜„ì¬ê°€</th>
                            <th>í‰ê°€ì†ìµ</th>
                        </tr>
                    </thead>
                    <tbody id="portfolio-table-body"></tbody>
                </table>
            </div>
        </div>
    </div>

    <script>
        // --- 1. ë°ì´í„° ì •ì˜ ---
        const rawData = [
            { name: 'HANARO ê¸€ë¡œë²Œê¸ˆì±„êµ´', avgPrice: 2997050, currentPrice: 3004325, sector: 'ê¸ˆ' },
            { name: 'RISE ê¸€ë¡œë²Œì›ìë ¥', avgPrice: 1157635, currentPrice: 1159800, sector: 'ì›ìì¬' },
            { name: 'TIGER AIì „ë ¥ì¸í”„ë¼', avgPrice: 829000, currentPrice: 830400, sector: 'ì›ìì¬' },
            { name: 'ACE ë¯¸êµ­ë°˜ë„ì²´ë°ì¼ë¦¬', avgPrice: 739475, currentPrice: 740300, sector: 'ë°˜ë„ì²´' },
            { name: 'TIGER êµ¬ë¦¬ì‹¤ë¬¼', avgPrice: 1384220, currentPrice: 1384200, sector: 'ì›ìì¬' },
            { name: 'ACE AIë°˜ë„ì²´í¬ì»¤ìŠ¤', avgPrice: 2017760, currentPrice: 2016575, sector: 'ë°˜ë„ì²´' },
            { name: 'TIGER ë¯¸êµ­30ë…„ì»¤ë²„ë“œì½œ', avgPrice: 2993840, currentPrice: 2988175, sector: 'ì¥ê¸°ì±„' },
            { name: 'TIGER ì°¨ì´ë‚˜ë¡œë´‡', avgPrice: 752360, currentPrice: 750120, sector: 'ë¡œë´‡' },
            { name: 'SOL êµ­ì œê¸ˆì»¤ë²„ë“œì½œ', avgPrice: 3113135, currentPrice: 3081975, sector: 'ê¸ˆ' }
        ];

        const targetGains = { 'ê¸ˆ': 152, 'ë°˜ë„ì²´': 233, 'ì›ìì¬': 331, 'ì¥ê¸°ì±„': 54, 'ë¡œë´‡': 47 };
        const sectorColors = ['#f1c40f', '#9b59b6', '#e67e22', '#95a5a6', '#34495e'];

        // ë°ì´í„° ê³„ì‚°
        const totalAvg = rawData.reduce((sum, item) => sum + item.avgPrice, 0);
        const totalCurrent = rawData.reduce((sum, item) => sum + item.currentPrice, 0);
        const processedData = rawData.map(item => {
            const profitRate = ((item.currentPrice - item.avgPrice) / item.avgPrice * 100).toFixed(2);
            return { ...item, profitRate: parseFloat(profitRate), profitAmount: item.currentPrice - item.avgPrice };
        }).sort((a, b) => b.profitRate - a.profitRate);

        const actualGainsBySector = {};
        processedData.forEach(item => {
            actualGainsBySector[item.sector] = (actualGainsBySector[item.sector] || 0) + (item.profitAmount / 10000);
        });

        // ìš”ì•½ ì •ë³´ ì—…ë°ì´íŠ¸
        document.querySelector('#stat-current-total p').innerText = (totalCurrent/10000).toFixed(1) + 'ë§Œì›';
        document.querySelector('#stat-total-profit p').innerText = ((totalCurrent-totalAvg)/totalAvg*100).toFixed(2) + '%';

        // --- 2. ì°¨íŠ¸ ë Œë”ë§ ---

        // A. ìì‚° ì„±ì¥ ê°€ì´ë“œ
        new Chart(document.getElementById('assetChart'), {
            type: 'line',
            data: {
                labels: ['2ì›”', '3ì›”', '4ì›”', '5ì›”', '6ì›”', '7ì›”', '8ì›”', '9ì›”', '10ì›”', '11ì›”', '12ì›”', '1ì›”'],
                datasets: [{ label: 'ëª©í‘œ ìì‚°', data: [1779, 1865, 1952, 2039, 2125, 2212, 2299, 2386, 2473, 2561, 2648, 2735], borderColor: '#3498db', fill: true, backgroundColor: 'rgba(52, 152, 219, 0.1)', tension: 0.4 }]
            }
        });

        // B. ì£¼ê°„ ìˆ˜ìµ ì¶”ì 
        new Chart(document.getElementById('weeklyTotalTrackerChart'), {
            type: 'line',
            data: {
                labels: ['ì›”', 'í™”', 'ìˆ˜', 'ëª©', 'ê¸ˆ'],
                datasets: [
                    { label: 'í‰ê°€ê¸ˆì•¡', data: [totalAvg*0.99, totalAvg*1.002, totalAvg*1.001, totalAvg*1.005, totalCurrent], borderColor: '#e74c3c', fill: true, backgroundColor: 'rgba(231, 76, 60, 0.1)', tension: 0.3 },
                    { label: 'ë§¤ìˆ˜ê¸ˆì•¡', data: Array(5).fill(totalAvg), borderColor: '#2c3e50', borderDash: [5, 5], fill: false, pointRadius: 0 }
                ]
            }
        });

        // C. ì¢…ëª©ë³„ ìˆ˜ìµë¥  ë­í‚¹
        new Chart(document.getElementById('performanceChart'), {
            type: 'bar',
            data: {
                labels: processedData.map(d => d.name),
                datasets: [{ data: processedData.map(d => d.profitRate), backgroundColor: processedData.map(d => d.profitRate >= 0 ? '#ff7675' : '#74b9ff') }]
            },
            options: { indexAxis: 'y', plugins: { legend: { display: false } } }
        });

        // D. ì„¹í„°ë³„ ìˆ˜ìµ ê¸°ì—¬ë„ (ëª©í‘œ ê°•ì¡°í˜•)
        const sectorLabels = ['ê¸ˆ', 'ë°˜ë„ì²´', 'ì›ìì¬', 'ì¥ê¸°ì±„', 'ë¡œë´‡'];
        new Chart(document.getElementById('contributionChart'), {
            type: 'bar',
            data: {
                labels: sectorLabels,
                datasets: [
                    { label: 'ì—°ê°„ ëª©í‘œ (ì»¬ëŸ¬)', data: sectorLabels.map(s => targetGains[s]), backgroundColor: sectorColors, barThickness: 20 },
                    { label: 'í˜„ì¬ ì‹¤ì  (íšŒìƒ‰)', data: sectorLabels.map(s => actualGainsBySector[s] || 0), backgroundColor: '#d1d8e0', barThickness: 10 }
                ]
            },
            options: { indexAxis: 'y' }
        });

        // E. ì›”ë³„ ë°°ë‹¹ê¸ˆ ì¶”ì  (ì‹ ê·œ)
        new Chart(document.getElementById('dividendTrackerChart'), {
            type: 'bar',
            data: {
                labels: ['2ì›”', '3ì›”', '4ì›”', '5ì›”', '6ì›”', '7ì›”'],
                datasets: [
                    { label: 'ì‹¤ì œ ë°°ë‹¹ê¸ˆ', data: [184000, 184000, 0, 0, 0, 0], backgroundColor: '#2ecc71', borderRadius: 5 },
                    { label: 'ëª©í‘œ (20ë§Œ)', data: Array(6).fill(200000), type: 'line', borderColor: '#e74c3c', borderDash: [5, 5], fill: false, pointRadius: 0 }
                ]
            },
            options: { scales: { y: { beginAtZero: true, ticks: { callback: v => v.toLocaleString() + 'ì›' } } } }
        });

        // F. ì„¹í„° ë¹„ì¤‘ ë„ë„›
        new Chart(document.getElementById('sectorChart'), {
            type: 'doughnut',
            data: {
                labels: sectorLabels,
                datasets: [{ data: [36, 16, 26, 18, 4], backgroundColor: sectorColors }]
            }
        });

        // --- 3. í…Œì´ë¸” ìƒì„± ---
        const tableBody = document.getElementById('portfolio-table-body');
        processedData.forEach((item, index) => {
            const row = document.createElement('tr');
            const color = item.profitRate >= 0 ? '#e74c3c' : '#3498db';
            row.innerHTML = `
                <td style="text-align:center;">${index + 1}</td>
                <td style="text-align:left;"><b>${item.name}</b></td>
                <td style="color: ${color}; font-weight: bold;">${item.profitRate > 0 ? '+' : ''}${item.profitRate}%</td>
                <td>${item.avgPrice.toLocaleString()}</td>
                <td>${item.currentPrice.toLocaleString()}</td>
                <td style="color: ${color};">${item.profitAmount > 0 ? '+' : ''}${item.profitAmount.toLocaleString()}</td>
            `;
            tableBody.appendChild(row);
        });
    </script>
</body>
</html>